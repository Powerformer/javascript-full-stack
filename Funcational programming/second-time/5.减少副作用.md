函数式编程者并没有消除所有的副作用。实际上，我们的目标是尽可能地限制他们。要做到这一点，我们首先需要完全理解函数式编程的副作用。

## 什么是副作用

在某种程度上，通读程序但不能看到因果的直接关系，程序的可读性就会降低。

```javascript
function foo(x) {
  return x * 2;
}

var y = foo(3);
```

在这段代码中，有很直接的因果关系。

```javascript
function foo(x) {
  y = x * 2;
}

var y;

foo(3);
```

这里的因果是没有联系的。这个影响是间接的。这种方式设置 `y` 就是我们所说的副作用。

**注意：** 当函数引用外部变量时，这个变量就称为自由变量。并不是所有的自由变量引用都是不好的，但是我们要对它们非常小心。

**有副作用的函数可读性更低**，因为它需要更多的阅读来理解程序。

两个观察结果将会合理地帮助我们回答这个问题：

1. 想一下是否每次调用 `foo(3)`，都将会返回 `9.424..`？**答案是肯定的。** 如果每一次都给一个相同的输入（`x`），那么都将会返回相同的输出。
2. 你能用 `PI` 的当前值来代替每一个 `PI` 吗，并且程序能够和之前一样**正确地**的运行吗？**是的。** 程序没有任何一部分依赖于 `PI` 值的改变，因为 `PI` 的类型是 `const`，它是不能再分配的，所以变量 `PI` 在这里只是为了便于阅读和维护。它的值可以在不改变程序行为的情况下内联。