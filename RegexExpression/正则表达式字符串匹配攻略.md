## 正则表达式字符匹配攻略

**正则表达式是匹配模式，要么匹配字符，要么匹配位置。 请记住这句话。**

内容包括：

- 两种模糊匹配
- 字符组
- 量词
- 分支结构
- 案例分析



**两种模糊匹配**

- 横向模糊匹配
- 纵向模糊匹配

**字符组**



## 量词

量词也称重复。`{m,n}`

### 贪婪匹配与惰性匹配

贪婪匹配：`{m,n}, {m,}, ?, +, *`

```javascript
var regex = /\d{2,5}/g;
var string = '123 1234 12345 123456';
console.log(string.match(regex));
// => ["123", "1234", "12345", "12345"]
```

惰性匹配：`{m,n}?, {m,}?, ??, +?, *?`

```javascript
var regex = /\d{2,5}?/g;
var string = '123 1234 12345 123456';
console.log(string.match(regex));
// => ['12', '12', '34', '12', '34', '12', '34', '56']
```



## 多选分支

一个模式可以实现横向和纵向匹配。而多选分支支持多个子模式任选其一。

```javascript
var regex = /good|nice/g;
  var string = "good idea, nice try.";
  console.log( string.match(regex) );
  // => ["good", "nice"]
```

分支结构是惰性的，匹配了第一个，后面就不尝试了。



## 本章小结

掌握字符组和量词就能解决大部分常见的情形。



# 正则表达式位置匹配攻略

内容包括：

- 什么是位置
- 如何匹配位置
- 位置的特性
- 几个应用实例分析



## 什么是位置呢？



### \b 和 \B

\b 是单词边界，\B 是非单词边界。

### (?=p) 和 (?!p) 与 (?<=p) 和 (?<!p)

(?=p) p前面的那个位置，其 他类似。



# 正则表达式括号的作用

| 字符组  | 具体含义                                     |
| ---- | ---------------------------------------- |
| \d   | 表示 [0-9]。表示是一位数字。记忆方式:其英文是 digit(数字)。    |
| \D   | 表示 [^0-9]。表示除数字外的任意字符。                   |
| \w   | 表示 [0-9a-zA-Z_]。表示数字、大小写字母和下划线。记忆方式:w 是 word 的简写，也称单词字符。 |
| \W   | 表示 [^0-9a-zA-Z_]。非单词字符。                  |
| \s   | 表示 [ \t\v\n\r\f]。表示空白符，包括空格、水平制表符、垂直制表符、换行符、回车符、换页符。记忆方式:s 是 space 的首字母，空白符的单词是 white space。 |
| \S   | 表示 [^ \t\v\n\r\f]。 非空白符。                 |
| .    | 表示 [^\n\r\u2028\u2029]。通配符，表示几乎任意字符。换行符、回车符、行分隔符和段分隔符除外。记忆方式:想想省略号 ... 中的每个点，都可以理解成占位符，表示任何类似的东西。 |

[^\n\r\u2028\u2029]: 字符组常见简写形式

量词

| 量词   | 具体含义                                     |
| ---- | ---------------------------------------- |
| {m,} | 表示至少出现 m 次。                              |
| {m}  | 等价于 {m,m}，表示出现 m 次。                      |
| ?    | 等价于 {0,1}，表示出现或者不出现。记忆方式:问号的意思表示，有吗?     |
| +    | 等价于 {1,}，表示出现至少一次。记忆方式:加号是追加的意思，得先有一个，然后才考虑追加。 |
| *    | 等价于 {0,}，表示出现任意次，有可能不出现。记忆方式:看看天上的星星，可能一颗没有，可能零散有几颗，可能数也数不过来。 |

惰性量词：

| 惰性量词   | 贪婪量词  |
| ------ | ----- |
| {m,n}? | {m,n} |
| {m,}?  | {m,}  |
| ??     | ?     |
| +?     | +     |
| *?     | *     |

### 位置

^、$、\b、\B、(?=p)、(?!p)



# 正则表达式回溯法原理

- 没有回溯的匹配
- 有回溯的匹配
- 常见的回溯形式






​		
​	